<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>MediClean</title>
    
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
    <link rel="stylesheet" href="style.css">  <!-- 분리된 스타일시트 -->
</head>
<body>

    <div class="navbar">
        <div class="left-section">
            <div>MediClean</div>
            <div class="language-select">
                <select>
                    <option value="ko">한국어</option>
                    <option value="en">English</option>
                    <option value="ja">日本語</option>
                    <option value="zh">中文</option>
                </select>
            </div>
        </div>
        <div class="buttons">
            <img src="https://cdn-icons-png.flaticon.com/512/4430/4430049.png" alt="Add" title="저장" onclick="alert('저장 버튼 클릭!')">
            <img src="https://cdn-icons-png.flaticon.com/512/8577/8577783.png" alt="Load" title="불러오기" onclick="alert('불러오기 버튼 클릭!')">
            <img src="https://cdn-icons-png.flaticon.com/512/3171/3171061.png" alt="Settings" title="설정" onclick="alert('설정 버튼 클릭!')">
            <img src="https://cdn-icons-png.flaticon.com/512/64/64572.png" alt="Profile" title="내 정보" onclick="alert('내 정보 버튼 클릭!')">
        </div>        
    </div>

    <div id="container">
        <div id="input-area">
            <h3>Information</h3>
            <label for="name">이름:</label>
            <input type="text" id="name" name="name"><br><br>


            <!-- 성별 선택 라디오 버튼 추가 -->
            <label>성별:</label>
            <input type="radio" id="male" name="gender" value="male">
            <label for="male">M</label>
            <input type="radio" id="female" name="gender" value="female">
            <label for="female">W</label><br><br>


            <label for="date">날짜:</label>
            <input type="date" id="date" name="date"><br><br>
            
            
            <h3>Data Source</h3>
            <div id="page-message"></div>
            <input type="text" id="txt-url" class="py-input" size="30" />
            <button 
                type="submit"
                id="btn-load"
                class="py-button"
                py-click="loadFromURL"
            >
            Load CSV
            </button><br><br>
            
            <button type="button" id="btn-animate" class="py-button" onclick="start_animation_js()">  <!-- 이미지 애니메이션 시작 버튼 추가 -->
                Start Animation
            </button>
            
        </div>

        <div id="pandas-area">
            <h3>Output</h3>
            <div id="pandas-output" hidden>
                <div id="pandas-output-inner"></div>
            </div>           

        </div>

        <div id="image-area">
            <h3>Image</h3>
            <img id="animated-image" src="" alt="Animated image">
        </div>        
    </div>

    <section class="py-script">
        <script type="py" src="./pyscript.py" config="./pyscript.toml"></script>
    </section>

    <script>
        function start_animation_js() {
            let imageIndex = 1; // 시작 이미지 인덱스
            const imageCount = 12; // 전체 이미지 개수

            setInterval(() => {
                const imgElement = document.getElementById("animated-image");
                // 이미지 URL 생성 (001.png, 002.png, ..., 012.png)
                const imageUrl = `./img/foot_img/${String(imageIndex).padStart(3, '0')}.png`;
                imgElement.src = imageUrl;

                imageIndex++; // 다음 이미지로 이동
                if (imageIndex > imageCount) {
                    imageIndex = 1; // 마지막 이미지 후 처음으로 돌아감
                }
            }, 200);
        }
    </script>
</body>
</html>
    
    
